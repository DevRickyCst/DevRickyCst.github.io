<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<!-- Import CSS -->
<link rel="stylesheet" href="/assets/css/index.css">

<!-- Import JQuery-->


<script>

    // Parse current path
    var currentFullPath = window.location.pathname;
    var [, currentPrefix, currentPath] = currentFullPath.split('/');




    $(document).ready(function () {

        //Handle link btw Frensh version and english version
        $('a.swap_name').on('click', function (event) {
            event.preventDefault();
            // Parse destination path
            var destinationFullPath = $(this).attr('href');
            var [, destinationPrefix, destinationPath] = destinationFullPath.split('/');

            if (currentPrefix == destinationPrefix) {
                console.log("currentPrefix == destinationPrefix" + currentPrefix == destinationPrefix);
                outputLocation = destinationFullPath;
            } else {
                outputLocation = destinationPrefix + '/'
                console.log((currentPrefix == 'en' && currentPath == 'skills'))
                if (currentPrefix == 'en' && currentPath == 'skills') {
                    outputLocation = '/fr/competences';
                } else if (currentPrefix == 'fr' && currentPath == 'competences') {
                    outputLocation = '/en/skills';
                } else {
                    outputLocation = '/' + outputLocation + currentPath;
                }

            }

            console.log([currentFullPath, currentPrefix, currentPath])
            console.log([destinationFullPath, destinationPrefix, destinationPath])

            console.log(outputLocation)

            console.log(window.location.hostname)

            window.location.href = outputLocation;

        });

        //Handle classique link to autoadapt with current link
        $('a.js_header-link').on('click', function (event) {
            event.preventDefault();

            // Parse destination path
            var destinationFullPath = $(this).attr('href');
            var [, destinationPrefix, destinationPath] = destinationFullPath.split('/');

            var outputLocation = destinationFullPath;

            if (currentPrefix == 'fr') {
                outputLocation = '/' + currentPrefix;
                outputLocation = (destinationPath == "skills") ? outputLocation + '/competences' : outputLocation + '/' + destinationPath;
            }

            window.location.href = outputLocation;
        });


        //Handle naming in layout    
        var $skillsLink = $('a[href="' + "/en/skills" + '"]');
        var $aboutmeLink = $('a[href="' + "/en/" + '"]');
        var $experiencesLink = $('a[href="' + "/en/experiences" + '"]');
        var $projectsLink = $('a[href="' + "/en/projects" + '"]');

        if (currentPrefix == 'fr') {
            $skillsLink.text('Compétences')
            $aboutmeLink.text('A propos')
            $experiencesLink.text('Expériences')
            $projectsLink.text('Projets')
        }
    });

</script>

<!-- Import accordion script -->
<script src="/assets/js/accordion.js"></script>

</script>